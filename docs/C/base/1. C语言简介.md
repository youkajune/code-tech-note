---
lang: zh-CN
title: C语言简介
description: 
categories:
 - C语言
tags:
 - C语言
---

## 什么是C语言？

C 语言是一种通用的高级编程语言，是一门功能强大的专业化编程语言，深受程序员的喜爱。
C语言有很多优点：

- 用户可以轻松的完成自顶向下的规划、结构化编程和模块化设计。
- 是高效的语言。相比很多其他的编程语言，C语言运行速度很快。
- 功能强大且灵活。
- 可以处理底层的活动。
- 可移植的语言，即可以在多种计算机平台上编译。

人无完人，金无足赤。C语言也有一些缺点，C语言给予了程序员很大的灵活性，相对的，程序员编写程序时也就需要更加警惕。

## C语言能做什么？

C语言主要应用于底层开发，和硬件打交道，如操作系统，嵌入式开发，或者要求效率，高可移植性的地方。比较常见的 C 程序就是操作系统、驱动程序。

对于初次接触编程的小白来说，可能会有很多陌生的名词，这里简单的介绍下。

**硬件和软件**：
计算机硬件是指现实中存在的，能够看得见摸得着的计算机部件。例如，CPU、主板等。
计算机软件则是在现实中并不存在，摸不到的。例如，QQ、WX这些都是软件，甚至运行这些软件的操作系统也是软件。而软件都是由编程语言来编写的。
![](E:\Note\Code Language\the-c\picture\basic\1-1.png)
C语言的主要应用就是编写内核这一层，负责和硬件直接打交道；而C++、Java(另两种主流编程语言)则主要应用于外层的应用这一层，我们常用的各种电脑软件都是属于应用这一层。

## C语言的历史

计算机的硬件是只识别0和1，因此，早期的程序都是使用只有0和1的机器语言来编写的。这就要求程序员需要记住一系列0和1组成的命令，学习成本非常高。因此在早期，编写计算机的程序员往往都是高等院校的研究员。

后来在机器语言的基础上出现了汇编语言，汇编语言使用一些英文单词来代替机器语言由0和1组成的命令，这使得汇编语言相较于机器学习学习成本低、程序的**编写效率**高。但是汇编语言编写的程序需要先转换成机器语言，再由计算机执行，这使得汇编语言编写的程序**运行效率**低于机器语言。

随着计算机软件、硬件的发展，又出现了一系列的高级编程语言，高级编程语言相比汇编语言，高级编程语言对程序员更友好，程序的执行效率会比汇编语言稍低，不过由于现在的计算机执行速度很快，因此这点执行效率并不会让用户感到程序执行慢。

而 C 语言就是一种高级编程语言。C 语言最初是由丹尼斯·里奇在贝尔实验室为开发 UNIX 操作系统而设计的。C 语言是以 B 语言为基础的，B 语言大概是在 1970 年被引进的。

C 语言最开始是于 1972 年在 DEC PDP-11 计算机上被首次实现。

在 1978 年，布莱恩·柯林汉（Brian Kernighan）和丹尼斯·里奇（Dennis Ritchie）制作了 C 的第一个公开可用的描述，现在被称为 K&R 标准。

UNIX 操作系统，C编译器，和几乎所有的 UNIX 应用程序都是用 C 语言编写的。由于各种原因，C 语言现在已经成为一种广泛使用的专业语言。

## 如何使用C语言编程？

> 为了让读者对编程有大概的了解，我们把编写 C 程序的过程分解为 7 个步骤，如下图所示。需要注意的是，这是理想状态，在实际的使用过程中，尤其是在较大型项目中，可能要做一些重复的工作，根据下一个步骤的情况来调整或改进上一个步骤。—— 《C Primer Plus》

1. **确定程序目标**。想要做什么事、需要什么信息(输入信息)、需要进行那些计算、获得什么结果(输出信息)
2. **设计程序**。如何表示数据、用什么方法处理数据、怎样组织程序、用户界面是什么样的、...
3. **编写代码**。此时才是真正开始书写代码。
4. **编译源代码**。编译的作用：检查C语言程序的编写是否有错误；将源代码编译为计算机能够识别的指令集(即目标代码文件)；将源代码编译后的文件和C库代码、启动代码合并为可执行文件。
> PS：通过编译的代码叫做目标代码文件，目标代码文件不能直接运行，还缺少启动代码和库函数，需要通过链接将其合并为一个文件。
5. **运行程序**。编译之后会生成一个可执行文件(exe)，可通过双击的形式直接在操作系统中运行。
6. **测试和调试程序**。两个名词：bug —— 程序中的一些错误；调试 —— 查找并修复程序错误的过程。
7. **维护和修改代码**。创建完程序之后，发现程序有错或者想要扩展程序用途，就需要修改程序。

## 编译C语言编写的程序

### 什么是编译？

C语言只是我们人能读懂的语言，在计算机眼中C语言就是外星文，根本看不懂，计算机只能识别机器语言，所以我们需要将C语言“翻译”为机器语言，这个过程就是编译。

我在刚接触编译这个概念时有两点疑问：1. 为什么不直接用机器语言编程，而是使用C语言？2. 如何将C语言翻译为机器语言？
1.为什么不直接用机器语言变成而是使用C语言？因为机器语言是一串0、1码，非常难以记忆和阅读，是人难以理解的一种语言，但是对于计算机而言就是非常容易理解的；而C语言则相反，C语言使用人比较容易理解的方式，而计算机是无法理解的。
2.如何将C语言翻译为机器语言？C语言是由编译器来将我们写的C语言程序翻译为计算机可以理解的**指令集** —— 这就是编译的过程。



### 编译的好处

首先，**使用人容易理解的语言来进行编程，可以提高编程效率**。使用C语言编程的过程可以理解为写文件的时候使用中文写，然后找专业的翻译人员将其翻译为英文，然后将这个英文文件交由处理人员，处理人员就可以根据你写的这份英文文件的步骤进行操作。而使用机器语言编程的过程就需要你查找你陌生的英文将其翻译为英文文件，交由处理人员。可以想象，对于一个对英文不熟悉的人来说，这效率可以说非常低了。

其次，**程序的可移植性**。之前讲过，编译就是将C语言编译为计算机可以识别的指令集，说到指令集，我们要知道不同 CPU 的指令集是不同的，比如 Intel 和 AMD 的 CPU 指令集就完全不同，这代表着在 Intel 的 CPU 中可以运行的指令集放在 AMD 的 CPU 中可能就完全无法理解需要做什么。
程序的可移植性的意思就是我们写好的源代码移动到另一台计算机中依旧可以执行。
C语言的可移植性是如何保证的？不同的CPU使用的指令集不同，通过不同的编译器，可以将同一个C语言代码转换成不同CPU可以识别的机器语言指令集程序，以适应不同的CPU环境。这样我们将源代码移动到另一台计算机中，在该计算机中会将其编译为这台计算机可以理解的指令集。

### 编译与解释

C 语言是编译型语言的代表，我们使用 C 语言编写完程序之后，通过 C 语言的编译器将 C 语言程序“翻译”为机器语言，此时可执行程序是由机器语言组成的。

除了C语言这样的编译型语言之外，还有像 Python 那样的解释型语言。所谓解释型语言是在程序运行时才将高级编程语言翻译为机器语言。

**编译型语言和解释型语言的优劣**：
由于解释型语言在运行时才进行“翻译”，因此解释型语言的程序运行效率较低(边运行边翻译)，编译型语言的运行效率较高。
但是由于解释型语言在运行时才进行“翻译”，因此，解释型语言的可执行程序是由高级编程语言组成的，这样每次修改源代码不需要重新编译；而编译型语言在运行之前进行“翻译”，其可执行程序是“翻译”之后的机器语言，所以每次修改源代码之后需要进行重新编译，生成新的可执行程序。

**编译型语言和解释型语言举例**：编译型语言举例：C、C++ 等；解释型语言举例：Python、JavaScript 等。

学习编程的过程中，一定会听到另一个大名 —— Java，Java 有点特殊，Java 先将源代码编译为 .class 文件，然后再由 JVM 在程序运行时来将 .class 文件解释为机器语言。因此 Java 是编译型语言还是解释型语言是有点争议的。我比较倾向于 Java 是编译型语言。

## 入门代码 —— Hello, World

学习编程的第一个程序一般都是非常经典的控制台输出 Hello, World! 的程序，这表示我们开启了一个编程的大门，进入到编程世界！

### Hello, World 代码

```c
#include <stdio.h>
int main(void)
{
    /* 我的第一个 C 程序 */
    printf("Hello, World! \n");
    return 0;
}
```

下面简单的解读一下这个C程序：

首先，\#表示后面跟着的是预处理语句，与include合起来的\#include 表示包含另一个文件，这里包含的是 stdio.h 文件

其次，`int main(void)`，int 表示返回值是 int 类型，() 中的 void 表示没有参数。这条语句还可以写成 `int main()` 或者 `void main(void)` 或者 `void main()`

> 如果返回值类型为 void ，程序{ }中最后的 return 语句需要去掉，但是需要注意的是后面两种写法可能会碰到某些编译器不识别的问题。所以推荐写第一种，第二种其实也可以，int main() 是 C99 标准之前的写法，而 int main(void) 是 C99 标准之后的写法。

第三，`/* 我的第一个 C 程序 */`是注释。编译器在编译时(将C语言翻译成机器能理解的语言)不会编译注释，因此写多少注释都不会影响最后生成的C程序的大小。注释主要是为了帮助程序员理解这部分代码的功能。对于初学者来说，可能会觉得注释没什么用，这是因为目前只能接触到比较简单的程序，而真正的开发过程中代码会比较复杂，并且代码量非常的大，面对成千上万条代码，如果不写注释，当你写好一段代码之后，隔了一个周再回来看这段代码可能都不知道自己当时是怎么写的。C语言提供两种注释 —— 单行注释和多行注释：

1. 单行注释：以 // 开头，直到本行最后都是注释
2. 多行注释：以 / \*开头，\*/ 结尾的都是注释。

> Java 中除了当行注释、多行注释之外，还提供了一个文档注释 /** */，C语言中该注释和多行注释等同。

### 程序可读性

刚才的 Hello, World 程序很简短，但是对于复杂的程序，代码可能有成千上万行，如果程序的可读性很差，那么在维护代码的时候效率会非常低。

提升程序的可读性：

1. 选择有意义的变量名或者函数名
2. 多写注释
3. 在函数中用空行分割概念上的多个部分
4. 每个语句占一行

### 关于英文

可以看到，演示的 HelloWorld 程序全都是英文，这是因为我国计算机的发展是比较晚的，90年代我国才引入计算机的。编程语言全都是由国外的程序员编写的，因此都是英文。不过不用担心，编程语言需要记住的英文其实也就100来个关键词，并不需要英文水平非常高。